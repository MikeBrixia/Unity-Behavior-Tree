name: Geneate Docfx documentation

on:
    push:
        branches: ["main"]

    workflow_dispatch:

jobs:
    generate-docs:
        runs-on: ubuntu-latest
        steps:
         - name: Checkout
           uses: actions/checkout@v4
         - name: Compile C# code
           uses: actions/setup-dotnet@v3
           with:
            dotnet-version: 7.x
         - name: Install docfx
           run: dotnet tool install -g docfx
         - name: Generated docfx documentation
           run: docfx Docs/ --serve